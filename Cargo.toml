[package]
authors = ["Dom Rodriguez <shymega@shymega.org.uk>"]
description = "Firmware for the Cosmo Communicator cover display"
edition = "2018"
keywords = ["embedded", "rtos"]
categories = ["embedded", "rtos"]
license = "MIT OR Apache-2.0"
name = "codirs-firmware"
publish = false
readme = "/README.md"
repository = "https://github.com/shymega/CoDirs.git"
version = "0.1.0"

[lib]
name = "codirs_firmware"
path = "src/lib.rs"

[[bin]]
name = "codirs-firmware"
path = "bin/codirs-firmware/main.rs"

[dependencies]
lvgl = "0.5.2"
alloc-cortex-m = "0.4.1"
cortex-m = "0.7.3"
cortex-m-rt = "0.6.14"
cortex-m-semihosting = "0.3.7"
panic-semihosting = "0.5.6"

[dependencies.serde]
version = "1.0.126"
default-features = false
features = ["derive", "alloc"]

[dependencies.serde_json]
version = "1.0.64"
default-features = false
features = ["alloc"]

[dependencies.stm32l4]
version = "0.13.0"
features = ["stm32l4x6", "rt"]

[profile.dev]
lto = true
opt-level = 3
codegen-units = 1
debug = true

[profile.dev.package."*"]
codegen-units = 1
opt-level = 3
debug = true

[profile.release]
lto = true
opt-level = 3
codegen-units = 1
debug = true

[profile.release.package."*"]
codegen-units = 1
opt-level = 3
debug = false
