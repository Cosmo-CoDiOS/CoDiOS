[package]
authors = ["Dom Rodriguez <shymega@shymega.org.uk>"]
description = "Firmware for the Cosmo Communicator cover display"
edition = "2018"
keywords = ["embedded", "rtos", "cosmo-communicator"]
categories = ["embedded", "rtos", "cosmo-communicator"]
license = "MIT"
name = "codios-firmware"
publish = false
readme = "/README.md"
repository = "https://github.com/shymega/CoDiOS.git"
version = "0.1.0"

[lib]
name = "codios_firmware"
path = "src/lib.rs"

[[bin]]
name = "codios-firmware"
path = "bin/codios-firmware/main.rs"

[dependencies]
lvgl = "0.5.2"
alloc-cortex-m = "0.4.1"
cortex-m = "0.7.3"
cortex-m-rt = "0.7.0"
cortex-m-semihosting = "0.3.7"
panic-semihosting = "0.5.6"

[dependencies.serde]
version = "1.0.130"
default-features = false
features = ["derive", "alloc"]

[dependencies.serde_json]
version = "1.0.68"
default-features = false
features = ["alloc"]

[dependencies.stm32l4]
version = "0.14.0"
features = ["stm32l4x6", "rt"]

[dependencies.stm32-hal2]
version = "1.3.1"
features = ["l4x6", "embedded-hal"]

[dependencies.corepack]
version = "0.4.1"
default-features = false
features = ["alloc"]

[profile.dev]
lto = true
opt-level = 3
codegen-units = 1
debug = true

[profile.dev.package."*"]
codegen-units = 1
opt-level = 3
debug = true

[profile.release]
lto = true
opt-level = 3
codegen-units = 1
debug = true

[profile.release.package."*"]
codegen-units = 1
opt-level = 3
debug = false
